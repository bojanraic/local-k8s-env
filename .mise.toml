[env]
VIRTUAL_ENV = { value = "{{config_root}}/.venv" }
PATH = { value = "{{env.VIRTUAL_ENV}}/bin:{{env.PATH}}" }

[tools]
# Python and package management
python = "3.13"
uv = "0.5.27"

# Operations tools
# renovate: datasource=github-releases depName=go-task/task
"aqua:go-task/task" = "3.41.0"
# renovate: datasource=github-releases depName=helm/helm
"aqua:helm/helm" = "3.17.0"
# renovate: datasource=github-releases depName=helmfile/helmfile
"aqua:helmfile/helmfile" = "0.170.1"
# renovate: datasource=github-releases depName=jqlang/jq
"aqua:jqlang/jq" = "1.7.0"
# renovate: datasource=github-releases depName=kubernetes-sigs/kustomize
"aqua:kubernetes-sigs/kustomize" = "5.1.0"
# renovate: datasource=github-tags depName=kubernetes/kubectl
"aqua:kubernetes/kubectl" = "1.32.1"
# renovate: datasource=github-releases depName=mikefarah/yq
"aqua:mikefarah/yq" = "4.45.1"
# renovate: datasource=github-releases depName=yannh/kubeconform
"aqua:yannh/kubeconform" = "0.6.7"
# renovate: datasource=github-releases depName=k3d-io/k3d
"aqua:k3d-io/k3d" = "5.8.1"
# renovate: datasource=github-releases depName=FiloSottile/mkcert
"aqua:FiloSottile/mkcert" = "1.4.4"

[tasks.deps]
description = "Install Python dependencies"
run = """
python -m venv $VIRTUAL_ENV
$VIRTUAL_ENV/bin/pip install -U pip
$VIRTUAL_ENV/bin/pip install -r requirements.txt
"""