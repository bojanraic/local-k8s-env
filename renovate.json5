{
  extends: [
    'config:recommended',
  ],
  hostRules: [
    {
      matchHost: 'ghcr.io',
      hostType: 'docker',
    },
  ],
  customManagers: [
    {
      customType: 'regex',
      fileMatch: [
        '\\.k8s-env\\.yaml$',
      ],
      matchStrings: [
        '\\s*chart:\\s*(?:.*?/)?(?<package>[^/\\s]+)\\s*#.*\\n\\s*#\\s*renovate:\\s*datasource=(?<datasource>[^\\s]+)\\s+depName=(?<depName>[^\\s]+)[^\\n]*\\n\\s*version:\\s*(?<currentValue>\\S+).*',
      ],
      datasourceTemplate: '{{datasource}}',
      packageNameTemplate: '{{depName}}',
    },
    {
      customType: 'regex',
      fileMatch: [
        '\\.mise\\.toml$',
      ],
      matchStrings: [
        '#\\s*renovate:\\s*datasource=(?<datasource>[^\\s]+)\\s+depName=(?<depName>[^\\s]+)[^\\n]*\\n"aqua:[^"]+"\\s*=\\s*"(?<currentValue>[^"]+)"',
      ],
      datasourceTemplate: '{{datasource}}',
      packageNameTemplate: '{{depName}}',
      depNameTemplate: '{{depName}}',
      versioningTemplate: 'semver',
    },
  ],
  kubernetes: {
    enabled: false,
  },
  packageRules: [
    {
      description: 'Helm charts',
      matchDatasources: [
        'helm',
      ],
      automerge: true,
      automergeType: 'pr',
      automergeStrategy: 'squash',
      platformAutomerge: true,
    },
    {
      description: 'Auto approve minor and patch updates for mise tools',
      matchFileNames: [
        '.mise.toml',
      ],
      matchUpdateTypes: [
        'minor',
        'patch',
      ],
      automerge: true,
      automergeType: 'pr',
      automergeStrategy: 'squash',
      platformAutomerge: true,
      ignoreTests: true,
    },
    {
      matchPackageNames: [
        'kubernetes-sigs/kustomize',
      ],
      extractVersion: '^(?:kustomize/)?v(?<version>.*)$',
      versioning: 'semver',
    },
    {
      matchPackageNames: [
        'jqlang/jq',
      ],
      extractVersion: '^jq-(?<version>.*)$',
      versioning: 'semver',
    },
    {
      matchPackageNames: [
        'kubernetes/kubectl',
      ],
      extractVersion: '^kubernetes-(?<version>.*)$',
    },
    {
      description: 'Python version in mise.toml',
      matchManagers: [
        'custom.regex',
      ],
      matchPackageNames: [
        'python/cpython',
      ],
      versioning: 'loose',
    },
    {
      description: 'Python dependencies',
      matchManagers: [
        'pip_requirements',
      ],
      matchFileNames: [
        'requirements.txt',
      ],
      matchDatasources: [
        'pypi',
      ],
      enabled: true,
      rangeStrategy: 'pin',
      versioning: 'pep440',
      automerge: true,
      automergeType: 'pr',
      automergeStrategy: 'squash',
      platformAutomerge: true,
      ignoreTests: true,
    },
    {
      matchDatasources: [
        'helm',
      ],
      registryUrls: [
        'https://charts.bitnami.com/bitnami',
      ],
      matchPackageNames: [
        'mysql',
        'postgresql',
        'mongodb',
        'rabbitmq'
      ],
      versioning: 'helm',
      extractVersion: '^(?<version>\\d+\\.\\d+\\.\\d+)$',
    },
    {
      versioning: 'docker',
      registryUrls: [
        'ghcr.io',
      ],
      matchDatasources: [
        'docker',
      ],
      matchPackageNames: [
        '/^dragonflydb\\/dragonfly$/',
      ],
    },
  ],
  versioning: 'semver',
  schedule: [
    'after 8am and before 6pm every weekday',
  ],
  timezone: 'Europe/Berlin',
}
